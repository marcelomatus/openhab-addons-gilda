<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="juicenet"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<thing-type id="device">
		<supported-bridge-type-refs>

			<bridge-type-ref id="account"/>
		</supported-bridge-type-refs>

		<label>JuiceBox Charger</label>
		<description>JuiceBox EV-Charger</description>

		<channels>
			<channel id="name" typeId="nameType"/>
			<channel id="chargingState" typeId="chargingStateType"/>

			<channel id="state" typeId="stateType"/>
			<channel id="override" typeId="overrideType"/>
			<channel id="chargingTimeLeft" typeId="chargingTimeLeftType"/>
			<channel id="plugUnplugTime" typeId="plugUnplugTimeType"/>
			<channel id="targetTime" typeId="targetTimeType"/>
			<channel id="unitTime" typeId="unitTimeType"/>
			<channel id="temperature" typeId="temperatureType"/>

			<channel id="ampsLimit" typeId="ampsLimitType"/>
			<channel id="ampsCurrent" typeId="ampsCurrentType"/>
			<channel id="voltage" typeId="voltageType"/>
			<channel id="whEnergy" typeId="whEnergyType"/>
			<channel id="savings" typeId="savingsType"/>
			<channel id="wattPower" typeId="wattPowerType"/>
			<channel id="secondsCharging" typeId="secondsChargingType"/>
			<channel id="whEnergyAtPlugin" typeId="whEnergyAtPluginType"/>
			<channel id="whEnergyToAdd" typeId="whEnergyToAddType"/>

			<channel id="lifetimeWHEnergy" typeId="lifetimeWHEnergyType"/>
			<channel id="lifetimeSavings" typeId="lifetimeSavingsType"/>

			<channel id="gasCost" typeId="gasCostType"/>
			<channel id="fuelConsumption" typeId="fuelConsumptionType"/>
			<channel id="ecost" typeId="ecostType"/>
			<channel id="whPerMile" typeId="whPerMileType"/>

			<channel id="carDescription" typeId="carDescriptionType"/>
			<channel id="carBatterySizeWH" typeId="carBatterySizeWHType"/>
			<channel id="carBatteryRangeM" typeId="carBatteryRangeMType"/>
			<channel id="carChargingRateW" typeId="carChargingRateWType"/>
		</channels>

		<properties>
			<property name="name"></property>
			<property name="token"></property>
			<property name="unitID"></property>
		</properties>
		<representation-property>unit_id</representation-property>
	</thing-type>

	<channel-type id="nameType">
		<item-type>String</item-type>
		<label>Name</label>
		<description>Juice Box name.</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="chargingStateType">
		<item-type>String</item-type>
		<label>Charging State</label>
		<description>The charing state (Start Charging, Smart Charging, Stop Charging).</description>
		<state>
			<options>
				<option value="start">Start Charging</option>
				<option value="smart">Smart Charging</option>
				<option value="stop">Stop Charging</option>
			</options>
		</state>
		<autoUpdatePolicy>recommend</autoUpdatePolicy>
	</channel-type>

	<channel-type id="stateType">
		<item-type>String</item-type>
		<label>Device State</label>
		<description>This is the current device state (Available, Plugged-In, Charging, Error, Disconnected).</description>
		<state readOnly="true">
			<options>
				<option value="standby">Available</option>
				<option value="plugged">Plugged-In</option>
				<option value="charging">Charging</option>
				<option value="error">Error</option>
				<option value="disconnect">Disconnected</option>
			</options>
		</state>
	</channel-type>

	<channel-type id="overrideType">
		<item-type>Switch</item-type>
		<label>Override State</label>
		<description>Smart charging is overridden.</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="chargingTimeLeftType">
		<item-type>Number:Time</item-type>
		<label>Charging Time Left</label>
		<description>Charging time left (seconds).</description>
		<state readOnly="true" pattern="%.0f min"/>
	</channel-type>

	<channel-type id="plugUnplugTimeType">
		<item-type>DateTime</item-type>
		<label>Plug/Unplug Time</label>
		<description>Last time of either plug-in or plug-out.</description>
		<state readOnly="true" pattern="%1$tB %1$te, %1$tY %1$tl:%1$tM %1$tp"/>
	</channel-type>

	<channel-type id="targetTimeType">
		<item-type>DateTime</item-type>
		<label>Target Time</label>
		<description>“Start charging” start time, or time to start when overriding smart charging.</description>
		<state pattern="%1$tB %1$te, %1$tY %1$tl:%1$tM %1$tp"/>
	</channel-type>

	<channel-type id="unitTimeType">
		<item-type>DateTime</item-type>
		<label>Unit Time</label>
		<description>Current time on the unit.</description>
		<state readOnly="true" pattern="%1$tB %1$te, %1$tY %1$tl:%1$tM %1$tp"/>
	</channel-type>

	<channel-type id="temperatureType">
		<item-type>Number:Temperature</item-type>
		<label>Temperature</label>
		<description>Current temperature at the unit.</description>
		<state readOnly="true" pattern="%.0f %unit%"/>
	</channel-type>

	<channel-type id="ampsLimitType">
		<item-type>Number:ElectricCurrent</item-type>
		<label>Current Limit</label>
		<description>Max charging current allowed. (A)</description>
		<state pattern="%d A"/>
	</channel-type>

	<channel-type id="ampsCurrentType">
		<item-type>Number:ElectricCurrent</item-type>
		<label>Current</label>
		<description>Current charging current. (A)</description>
		<state readOnly="true" pattern="%.1f A"/>
	</channel-type>

	<channel-type id="voltageType">
		<item-type>Number:ElectricPotential</item-type>
		<label>Voltage</label>
		<description>Current voltage. (V)</description>
		<state readOnly="true" pattern="%d V"/>
	</channel-type>

	<channel-type id="whEnergyType">
		<item-type>Number:Energy</item-type>
		<label>Current Energy</label>
		<description>Current power level of vehicle. (Wh)</description>
		<state readOnly="true" pattern="%.1f kWh"/>
	</channel-type>

	<channel-type id="savingsType">
		<item-type>Number</item-type>
		<label>Savings</label>
		<description>Current session EV savings.</description>
		<state readOnly="true" pattern="$%.2f"/>
	</channel-type>

	<channel-type id="wattPowerType">
		<item-type>Number:Power</item-type>
		<label>Power</label>
		<description>Current charging power. (W)</description>
		<state readOnly="true" pattern="%.2f kW"/>
	</channel-type>

	<channel-type id="secondsChargingType">
		<item-type>Number:Time</item-type>
		<label>Charging Time</label>
		<description>Charging time since plug-in time. (s)</description>
		<state readOnly="true" pattern="%.0f min"/>
	</channel-type>

	<channel-type id="whEnergyAtPluginType">
		<item-type>Number:Energy</item-type>
		<label>Energy at Plugin</label>
		<description>Energy value at the plugging time. (Wh)</description>
		<state readOnly="true" pattern="%.2f kWh"/>
	</channel-type>

	<channel-type id="whEnergyToAddType">
		<item-type>Number:Energy</item-type>
		<label>Energy to Add</label>
		<description>Amount of energy to be added in current session. (Wh)</description>
		<state pattern="%.2f kWh"/>
	</channel-type>

	<channel-type id="lifetimeWHEnergyType">
		<item-type>Number:Energy</item-type>
		<label>Lifetime Energy</label>
		<description>Total energy poured to vehicles during lifetime. (Wh)</description>
		<state readOnly="true" pattern="%,.2f kWh"/>
	</channel-type>

	<channel-type id="lifetimeSavingsType">
		<item-type>Number</item-type>
		<label>Lifetime Savings</label>
		<description>EV driving saving during lifetime.</description>
		<state readOnly="true" pattern="$%.2f"/>
	</channel-type>

	<channel-type id="gasCostType">
		<item-type>Number</item-type>
		<label>Gas Cost</label>
		<description>Cost of gasoline used in savings calculations.</description>
		<state readOnly="true" pattern="$%.2f"/>
	</channel-type>

	<channel-type id="fuelConsumptionType">
		<item-type>Number</item-type>
		<label>Fuel consumption</label>
		<description>Distance per volume (mpg) used in savings calculations.</description>
		<state readOnly="true" pattern="%.1f %unit%"/>
	</channel-type>

	<channel-type id="ecostType">
		<item-type>Number</item-type>
		<label>Utility Energy Cost</label>
		<description>Cost of electricity from utility company. ($/kWh)</description>
		<state readOnly="true" pattern="$%.2f"/>
	</channel-type>

	<channel-type id="whPerMileType">
		<item-type>Number:Power</item-type>
		<label>Watts per mile</label>
		<description>Watts per mile.</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="carDescriptionType">
		<item-type>String</item-type>
		<label>Car Description</label>
		<description>Car description of vehicle currently or last charged.</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="carBatterySizeWHType">
		<item-type>Number:Energy</item-type>
		<label>Car Battery Pack Size</label>
		<description>Car battery pack size. (Wh)</description>
		<state readOnly="true" pattern="%.2f kWh"/>
	</channel-type>

	<channel-type id="carBatteryRangeMType">
		<item-type>Number:Length</item-type>
		<label>Mileage Range</label>
		<description>Car distance range.</description>
		<state readOnly="true" pattern="%,d"/>
	</channel-type>

	<channel-type id="carChargingRateWType">
		<item-type>Number:Power</item-type>
		<label>Car Charging Rate</label>
		<description>Car charging rate. (W)</description>
		<state readOnly="true" pattern="%.2f kW"/>
	</channel-type>

</thing:thing-descriptions>
