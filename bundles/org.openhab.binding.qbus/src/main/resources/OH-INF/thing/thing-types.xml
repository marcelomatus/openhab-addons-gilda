<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="qbus"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<bridge-type id="bridge">
		<label>Qbus Bridge</label>
		<description>This bridge represents a Qbus client</description>
		<config-description>
			<parameter name="addr" type="text" required="true">
				<label>IP or Host Name</label>
				<description>IP Address of Qbus server, usually 'localhost'</description>
				<default>localhost</default>
				<advanced>false</advanced>
				<context>network-address</context>
			</parameter>
			<parameter name="sn" type="text" required="true">
				<label>Serial nr</label>
				<description>Serial nr of the CTD controller</description>
				<default></default>
				<advanced>false</advanced>
			</parameter>
			<parameter name="port" type="integer" required="false">
				<label>Bridge port</label>
				<description>Port to communicate with Qbus server, default 8447</description>
				<default>8447</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="refresh" type="integer" required="false">
				<label>Refresh interval</label>
				<description>Refresh interval for connection with Qbus server (min), default 300. If set to 0 or left empty, no
					refresh will be scheduled</description>
				<default>300</default>
				<advanced>true</advanced>
			</parameter>
		</config-description>
	</bridge-type>

	<thing-type id="onOff">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>
		<label>Switch</label>
		<description>Bistabiel-Mono-Timer-Interval output</description>
		<channels>
			<channel id="switch" typeId="switch"/>
		</channels>
		<config-description>
			<parameter name="bistabielId" type="integer" required="true">
				<label>Qbus ID</label>
				<description>Qbus IP Interface Output Object ID</description>
				<advanced>false</advanced>
			</parameter>
		</config-description>
	</thing-type>

	<thing-type id="scene">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>
		<label>Scene</label>
		<description>Qbus scene</description>
		<channels>
			<channel id="scene" typeId="scene"/>
		</channels>
		<config-description>
			<parameter name="sceneId" type="integer" required="true">
				<label>Qbus scene ID</label>
				<description>Qbus scene ID</description>
				<advanced>false</advanced>
			</parameter>
		</config-description>
	</thing-type>


	<thing-type id="co2">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>
		<label>CO2</label>
		<description>Qbus CO2</description>
		<channels>
			<channel id="co2" typeId="co2"/>
		</channels>
		<config-description>
			<parameter name="co2Id" type="integer" required="true">
				<label>Qbus CO2 ID</label>
				<description>Qbus CO2 ID</description>
				<advanced>false</advanced>
			</parameter>
		</config-description>
	</thing-type>

	<thing-type id="dimmer">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>
		<label>Dimmer</label>
		<description>Qbus dimmer output</description>
		<channels>
			<channel id="brightness" typeId="brightness"/>
		</channels>
		<config-description>
			<parameter name="dimmerId" type="integer" required="true">
				<label>Output ID</label>
				<description>Qbus IP Interface Output ID</description>
				<advanced>false</advanced>
			</parameter>
			<parameter name="step" type="integer" required="true">
				<label>Step value</label>
				<description>Step value used for increase/decrease of dimmer brightness, default 10%</description>
				<default>10</default>
				<advanced>true</advanced>
			</parameter>
		</config-description>
	</thing-type>



	<thing-type id="rollershutter">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>
		<label>RollerShutter</label>
		<description>Qbus Shutter control</description>
		<channels>
			<channel id="rollershutter" typeId="rollershutter"/>
			<channel id="slats" typeId="slats"/>
		</channels>
		<config-description>
			<parameter name="rolId" type="integer" required="true">
				<label>Rol ID</label>
				<description>Qbus rol Id</description>
				<advanced>false</advanced>
			</parameter>
		</config-description>
	</thing-type>

	<thing-type id="thermostat">
		<supported-bridge-type-refs>
			<bridge-type-ref id="bridge"/>
		</supported-bridge-type-refs>
		<label>Thermostat</label>
		<description>Qbus thermostat</description>
		<channels>
			<channel id="measured" typeId="measured"/>
			<channel id="mode" typeId="mode"/>
			<channel id="setpoint" typeId="setpoint"/>
		</channels>
		<config-description>
			<parameter name="thermostatId" type="integer" required="true">
				<label>Thermostat ID</label>
				<description>Qbus IP Interface Thermostat ID</description>
				<advanced>false</advanced>
			</parameter>
		</config-description>
	</thing-type>

	<channel-type id="scene">
		<item-type>Switch</item-type>
		<label>Scene</label>
		<description>Scene control for Qbus</description>
		<category>Scene</category>
	</channel-type>

	<channel-type id="co2">
		<item-type>Number</item-type>
		<label>CO2</label>
		<description>CO2 value for Qbus</description>
		<category>CO2</category>
	</channel-type>

	<channel-type id="switch">
		<item-type>Switch</item-type>
		<label>Switch</label>
		<description>Switch control for output in Qbus</description>
		<category>Switch</category>
	</channel-type>

	<channel-type id="brightness">
		<item-type>Dimmer</item-type>
		<label>Brightness</label>
		<description>Brightness control for dimmer function in Qbus</description>
		<category>DimmableLight</category>
	</channel-type>

	<channel-type id="color">
		<item-type>Color</item-type>
		<label>Color</label>
		<description>DMX control for dimmer function in Qbus</description>
		<category>HSB</category>
	</channel-type>

	<channel-type id="measured">
		<item-type>Number:Temperature</item-type>
		<label>Measured</label>
		<description>Temperature measured by thermostat</description>
		<category>Temperature</category>
		<tags>
			<tag>CurrentTemperature</tag>
		</tags>
		<state readOnly="true" pattern="%.1f %unit%"/>
	</channel-type>

	<channel-type id="setpoint">
		<item-type>Number:Temperature</item-type>
		<label>Setpoint</label>
		<description>Setpoint temperature of thermostat</description>
		<category>Temperature</category>
		<tags>
			<tag>TargetTemperature</tag>
		</tags>
		<state min="0" max="100" step="0.5" pattern="%.1f %unit%"/>
	</channel-type>

	<channel-type id="mode">
		<item-type>Number</item-type>
		<label>Mode</label>
		<description>Thermostat mode</description>
		<category>Number</category>
		<state>
			<options>
				<option value="0">Manueel</option>
				<option value="1">Vorst</option>
				<option value="2">Economisch</option>
				<option value="3">Comfort</option>
				<option value="4">Nacht</option>
			</options>
		</state>
	</channel-type>

	<channel-type id="rollershutter">
		<item-type>Rollershutter</item-type>
		<label>Rollershutter</label>
		<description>Rollershutter control for Qbus</description>
		<category>Blinds</category>
	</channel-type>

	<channel-type id="slats">
		<item-type>Dimmer</item-type>
		<label>Slatcontrol</label>
		<description>Slatcontrol function in Qbus</description>
		<category>Blinds</category>
	</channel-type>

</thing:thing-descriptions>
