<thing-type id="thermostat">
  <label>Nest Thermostat</label>
  <description>Provides the nest thermostat layer to talk to nest</description>

  <channels>
    <channel id="temperature" typeId="temperature" />
    <channel id="mode" typeId="mode" />
    <channel id="previous_hvac_mode" typeId="mode" />
    <channel id="max_set_point" typeId="setpoint" />
    <channel id="min_set_point" typeId="setpoint" />
    <channel id="fan_on" typeId="switch" />
    <channel id="can_heat" typeId="readonlyswitch" />
    <channel id="can_cool" typeId="readonlyswitch" />
    <channel id="has_fan" typeId="readonlyswitch" />
    <channel id="has_leaf" typeId="readonlyswitch" />
    <channel id="sunlight_correction_enabled" typeId="readonlyswitch" />
    <channel id="sunlight_correction_active" typeId="readonlyswitch" />
    <channel id="is_using_emergency_heat" typeId="readonlyswitch" />
    <channel id="is_locked" typeId="readonlyswitch" />
    <channel id="locked_max_set_point" typeId="setpoint" />
    <channel id="locked_min_set_point" typeId="setpoint" />
    <channel id="time_to_target_mins" typeId="number" />
  </channels>

  <config-description>
    <parameter name="client_id" type="string" required="true">
      <label>Client Id</label>
      <description>The client id from the nest web site.</description>
    </parameter>
    <parameter name="client_secret" type="string" required="true">
      <label>Client Secret</label>
      <description>The client secret from the nest web site.</description>
    </parameter>
    <parameter name="pin_code" type="string" required="true">
      <label>Pin Code</label>
      <description>The pin code generate from the auth url.</description>
    </parameter>
    <parameter name="refresh_interval" type="int" min="60">
      <label>Refresh Interval</label>
      <description>The refresh interval in seconds to refresh data from
        nest.  If you make this too small nest will eventually throttle
        your connection.
      </description>
      <default>120</default>
    </parameter>
  </config-description>

  <properties>
    <property name="vendor">Nest</property>
  </properties>
</thing-type>

<channel-type id="temperature">
  <item-type>Number</item-type>
  <label>Temperature</label>
  <description>Current temperature in degrees Celsius</description>
  <category>Temperature</category>
  <state readOnly="true" />
</channel-type>

<channel-type id="setpoint">
  <item-type>Number</item-type>
  <label>Temperature</label>
  <description>Set point in degrees Celsius</description>
  <category>Temperature</category>
  <state readOnly="false" min="18" max="42" default="20"/>
</channel-type>

<channel-type id="readonlyswitch">
  <item-type>Switch</item-type>
  <label>readonly switch</label>
  <description>on/off setup</description>
  <state readOnly="true" default="false" />
</channel-type>

<channel-type id="mode">
  <item-type>Number</item-type>
  <label>Mode</label>
  <description>Current mode of the nest thermostat</description>
  <state readOnly="false">
    <options>
      <option value="OFF">off</option>
      <option value="HEATING">heating</option>
      <option value="COOLING">cooling</option>
      <option value="ECO">eco</option>
      <option value="HEATCOOL">heat/cool</option>
    </options>
  </state>
</channel-type>
