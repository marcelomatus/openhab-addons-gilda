<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="folderwatcher"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

	<!-- Sample Thing Type -->
	<thing-type id="ftpfolder">
		<label>FTP Folder</label>
		<description>FTP folder to be watched</description>

		<channels>
			<channel id="newftpfile" typeId="newfile-channel" />
		</channels>

		<config-description>
			<parameter name="ftpAddress" type="text" required="true">
				<label>FTP Server</label>
				<description>IP address of FTP server</description>
				<context>network-address</context>
			</parameter>
            <parameter name="ftpPort" type="integer" required="true" min="1" max="65535">
                <label>FTP Port</label>
                <default>21</default>
                <description>FTP server's port</description>
            </parameter>
            <parameter name="secureMode" type="text" required="true">
                <label>FTP Security</label>
                <limitToOptions>true</limitToOptions>
                <options>
	                <option value="NONE">None</option>
	                <option value="IMPLICIT">TLS/SSL Implicit</option>
	                <option value="EXPLICIT">TLS/SSL Explicit</option>
                </options>
                <default>NONE</default>
                <description>FTP Security settings</description>
                <advanced>true</advanced>
            </parameter>          
			<parameter name="ftpUsername" type="text" required="true">
			    <label>Username</label>
                <description>User name</description>
			</parameter>
			<parameter name="ftpPassword" type="text" required="true">
                <label>Password</label>
                <description>FTP server password</description>
                <context>password</context>
            </parameter>
            <parameter name="ftpDir" type="text" required="true">
                <label>RootDir</label>
                <description>Root directory to be watched</description>
            </parameter>
            <parameter name="listHidden" type="boolean" required="true">
                <label>List Hidden</label>
                 <default>false</default>
                <description>Allow listing of hidden files</description>
                <advanced>true</advanced>
            </parameter>
            <parameter name="listRecursiveFtp" type="boolean" required="true">
                <label>List Sub Folders</label>
                <default>false</default>
                <description>Allow listing of sub folders</description>
                <advanced>true</advanced>
            </parameter>
            <parameter name="connectionTimeout" type="integer" required="true" min="1">
                <label>Connection timeout, s</label>
                <description>Connection timeout for FTP request</description>
                <default>30</default>
                <advanced>true</advanced>
            </parameter>
            <parameter name="pollInterval" type="integer" required="true" min="1">
                <label>Polling interval, s</label>
                <description>Interval for polling folder changes</description>
                <default>60</default>
                <advanced>true</advanced>
            </parameter>
            <parameter name="diffHours" type="integer" required="true" min="1">
                <label>Time stamp difference, h</label>
                <description>How many hours back to analyze</description>
                <default>24</default>
                <advanced>true</advanced>
            </parameter>
		</config-description>

	</thing-type>

	<!-- Sample Channel Type -->
	<channel-type id="newfile-channel">		
		<kind>trigger</kind>
		<label>New file name(s)</label>
		<description>A new file name</description>
        <category>String</category>
		<state readOnly="true"></state>		
	</channel-type>
	
	
	
	
	<!-- Sample Thing Type -->
    <thing-type id="localfolder">
        <label>Local Folder</label>
        <description>Local folder to be watched</description>

        <channels>
            <channel id="newlocalfile" typeId="newfile-channel" />
        </channels>

        <config-description>
            <parameter name="localDir" type="text" required="true">
                <label>Local Directory</label>
                <description>Local directory to be watched</description>
            </parameter>       
            <parameter name="pollIntervalLocal" type="integer" required="true" min="1">
                <label>Polling interval, s</label>
                <description>Interval for polling folder changes</description>
                <default>60</default>
                <advanced>true</advanced>
            </parameter>   
            <parameter name="listHiddenLocal" type="boolean" required="true">
                <label>List Hidden</label>
                <default>false</default>
                <description>Allow listing of hidden files</description>
                <advanced>true</advanced>
            </parameter>
            <parameter name="listRecursiveLocal" type="boolean" required="true">
                <label>List Sub Folders</label>
                <default>false</default>
                <description>Allow listing of sub folders</description>
                <advanced>true</advanced>
            </parameter>
        </config-description>

    </thing-type>
    
 


</thing:thing-descriptions>
