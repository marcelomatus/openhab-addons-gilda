<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="knx"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
        xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

    <!-- Bridge Thing Type -->
    <bridge-type id="ip">
        <label>KNX/IP gateway</label>
        <description>This Bridge is for IP based KNX gateways</description>
        
        <channels>
            <channel id="errorsall" typeId="errors" />
            <channel id="errors5min" typeId="errors" />
        </channels>
        
        <config-description>
            <parameter name="ipConnectionType" type="text">
                <label>IP Connection Type</label>
                <description>The ip connection type for connecting to the KNX bus. Could be either TUNNEL or ROUTER</description>
                <required>true</required>
            </parameter>  
            <parameter name="ipAddress" type="text">
                <label>Network Address</label>
                <description>Network address of the KNX/IP gateway</description>
                <required>false</required> <!-- Not required if ipConnectionType is ROUTER -->
            </parameter>
            <parameter name="portNumber" type="integer">
                <label>Port Number</label>
                <description>Port number of the KNX/IP gateway</description>
                <required>false</required> <!-- Not required if ipConnectionType is ROUTER -->
            </parameter>
            <parameter name="localIp" type="text">
                <label>Local Network Address</label>
                <description>Network address of the local host to be used to set up the connection to the KNX/IP gateway</description>
                <required>false</required>
            </parameter>      
             <parameter name="localSourceAddr" type="text">
                <label>local KNX GA</label>
                <description>The group address for identification of this KNX/IP gateway within the KNX bus. Default is 0.0.0</description>
                <required>false</required>
            </parameter>
            <parameter name="readingPause" type="integer">
                <label>Reading Pause</label>
                <description>Time in milliseconds of how long should be paused between two read requests to the bus during initialization</description>
                <required>false</required>
                <default>50</default>
            </parameter>
            <parameter name="responseTimeOut" type="integer">
            	<label>Response Time Out</label>
            	<description>Timeout in milliseconds to wait for a response from the KNX bus</description>
            	<required>false</required>
            	<default>10000</default>
        	</parameter>  
        	<parameter name="readRetriesLimit" type="integer">
            	<label>Read Retries Limit</label>
            	<description>Limits the read retries while initialization from the KNX bus</description>
            	<required>false</required>
            	<default>3</default>
        	</parameter>
        	<parameter name="autoReconnectPeriod" type="integer">
            	<label>Auto Reconnect Period</label>
            	<description>Seconds between connect retries when KNX link has been lost, 0 means never retry</description>
            	<required>false</required>
            	<default>0</default>
        	</parameter> 
        </config-description>
    </bridge-type>
    
    <channel-type id="errors">
        <item-type>Number</item-type>
        <label>Number of errors</label>
        <description>The number of errors that occurred on the KNX bus since the start of the binding, during the last 5 minutes</description>
    </channel-type>
        
    <channel-type id="switch">
		<item-type>Switch</item-type>
		<label>Input/Output Channel</label>
		<description>The IO channel allows to read/write values from/to the group address</description>
		<config-description>
			<parameter name="address" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation</description>
				<required>true</required>
			</parameter>
			<parameter name="dpt" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="read" type="boolean">
				<label>Read</label>
				<description>Flag to indicate if this group address should be read at startup</description>
				<required>false</required>
			</parameter>
			<parameter name="interval" type="integer">
				<label>Interval</label>
				<description>Interval between attempts to read the group address on the bus, in seconds</description>
				<required>false</required>
			</parameter>
			<parameter name="autoupdate" type="boolean">
                <label>Auto Update</label>
                <description>Flag to indicate whether the channel must updated after a state is updated or a command is posted </description>
                <required>false</required>
                <default>true</default>
            </parameter>
		</config-description>
	</channel-type>
	
	<channel-type id="number">
		<item-type>Number</item-type>
		<label>Input/Output Channel</label>
		<description>The IO channel allows to read/write values from/to the group address</description>
		<config-description>
			<parameter name="address" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation</description>
				<required>true</required>
			</parameter>
			<parameter name="dpt" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="read" type="boolean">
				<label>Read</label>
				<description>Flag to indicate if this group address should be read at startup</description>
				<required>false</required>
			</parameter>
			<parameter name="interval" type="integer">
				<label>Interval</label>
				<description>Interval between attempts to read the group address on the bus, in seconds</description>
				<required>false</required>
			</parameter>
			<parameter name="autoupdate" type="boolean">
                <label>Auto Update</label>
                <description>Flag to indicate whether the channel must updated after a state is updated or a command is posted </description>
                <required>false</required>
                <default>true</default>
            </parameter>
		</config-description>
	</channel-type>
	
    <channel-type id="string">
		<item-type>String</item-type>
		<label>Input/Output Channel</label>
		<description>The IO channel allows to read/write values from/to the group address</description>
		<config-description>
			<parameter name="address" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation</description>
				<required>true</required>
			</parameter>
			<parameter name="dpt" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="read" type="boolean">
				<label>Read</label>
				<description>Flag to indicate if this group address should be read at startup</description>
				<required>false</required>
			</parameter>
			<parameter name="interval" type="integer">
				<label>Interval</label>
				<description>Interval between attempts to read the group address on the bus, in seconds</description>
				<required>false</required>
			</parameter>
			<parameter name="autoupdate" type="boolean">
                <label>Auto Update</label>
                <description>Flag to indicate whether the channel must updated after a state is updated or a command is posted </description>
                <required>false</required>
                <default>true</default>
            </parameter>
		</config-description>
	</channel-type>
	
	<channel-type id="datetime">
		<item-type>DateTime</item-type>
		<label>Input/Output Channel</label>
		<description>The IO channel allows to read/write values from/to the group address</description>
		<config-description>
			<parameter name="address" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation</description>
				<required>true</required>
			</parameter>
			<parameter name="dpt" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="read" type="boolean">
				<label>Read</label>
				<description>Flag to indicate if this group address should be read at startup</description>
				<required>false</required>
			</parameter>
			<parameter name="interval" type="integer">
				<label>Interval</label>
				<description>Interval between attempts to read the group address on the bus, in seconds</description>
				<required>false</required>
			</parameter>
			<parameter name="autoupdate" type="boolean">
                <label>Auto Update</label>
                <description>Flag to indicate whether the channel must updated after a state is updated or a command is posted </description>
                <required>false</required>
                <default>true</default>
            </parameter>
		</config-description>
	</channel-type>
	
	<channel-type id="contact">
		<item-type>Contact</item-type>
		<label>Input/Output Channel</label>
		<description>The IO channel allows to read/write values from/to the group address</description>
		<config-description>
			<parameter name="address" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation</description>
				<required>true</required>
			</parameter>
			<parameter name="dpt" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="read" type="boolean">
				<label>Read</label>
				<description>Flag to indicate if this group address should be read at startup</description>
				<required>false</required>
			</parameter>
			<parameter name="interval" type="integer">
				<label>Interval</label>
				<description>Interval between attempts to read the group address on the bus, in seconds</description>
				<required>false</required>
			</parameter>
			<parameter name="autoupdate" type="boolean">
                <label>Auto Update</label>
                <description>Flag to indicate whether the channel must updated after a state is updated or a command is posted </description>
                <required>false</required>
                <default>true</default>
            </parameter>
		</config-description>
	</channel-type>
	
	<channel-type id="dimmer">
		<item-type>Dimmer</item-type>
		<label>Input/Output Channel</label>
		<description>The IO channel allows to read/write values from/to the group address</description>
		<config-description>
			<parameter name="address" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation</description>
				<required>true</required>
			</parameter>
			<parameter name="stateGA" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation that represents the actual state of the dimmer</description>
				<required>true</required>
			</parameter>			
			<parameter name="increasedecreaseGA" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation that is used to increase or decrease the dimmer</description>
				<required>true</required>
			</parameter>
			<parameter name="percentGA" type="text">
				<label>Address</label>
				<description>The group address in x/y/z notation that is used to set the dimmer at a given % </description>
				<required>true</required>
			</parameter>
			<parameter name="dpt" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="increasedecreaseDPT" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="percentDPT" type="text">
				<label>DPT</label>
				<description>DataPoint Type in x.y notation</description>
				<required>true</required>
			</parameter>
			<parameter name="read" type="boolean">
				<label>Read</label>
				<description>Flag to indicate if group addresses should be read at startup</description>
				<required>false</required>
			</parameter>
			<parameter name="interval" type="integer">
				<label>Interval</label>
				<description>Interval between attempts to read the group addresses on the bus, in seconds</description>
				<required>false</required>
			</parameter>
			<parameter name="autoupdate" type="boolean">
                <label>Auto Update</label>
                <description>Flag to indicate whether the channel must updated after a command is posted</description>
                <required>false</required>
                <default>true</default>
            </parameter>
		</config-description>
	</channel-type>
</thing:thing-descriptions>
