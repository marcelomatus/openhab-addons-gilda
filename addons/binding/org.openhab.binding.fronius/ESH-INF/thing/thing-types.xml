<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="fronius"
						  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
						  xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
						  xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

    <bridge-type id="symo">
        <label>Fronius Symo Device</label>
        <description>This bridge represents a Fronius Symo Device</description>

        <config-description>
            <parameter name="hostname" type="text" required="true">
                <label>Hostname or IP</label>
                <description>Hostname or IP of the device</description>
                <required>true</required>
            </parameter>
            <parameter name="refresh_interval" type="integer">
                <label>Refresh Interval</label>
                <description>States how long to wait after a device state update before the next refresh shall occur (in s)</description>
                <default>60</default>
            </parameter>
        </config-description>
    </bridge-type>

    <thing-type id="device_info">
        <supported-bridge-type-refs>
            <bridge-type-ref id="symo" />
        </supported-bridge-type-refs>

        <label>Active Device Info</label>
        <description>This thing represents the active device info of a Fronius inverter</description>

        <channels>
            <channel id="status_code" typeId="code"></channel>
            <channel id="timestamp" typeId="timestamp"></channel>
        </channels>

    </thing-type>

    <thing-type id="inverter_data">
        <supported-bridge-type-refs>
            <bridge-type-ref id="symo" />
        </supported-bridge-type-refs>

        <label>Inverter Realtime Data</label>
        <description>This thing represents the inverter realtime data of a Fronius inverter</description>

        <channels>
            <channel id="day_energy" typeId="energy"></channel>
            <channel id="year_energy" typeId="energy"></channel>
            <channel id="total_energy" typeId="energy"></channel>
            <channel id="pac" typeId="power"></channel>
            <channel id="iac" typeId="current"></channel>
            <channel id="uac" typeId="voltage"></channel>
            <channel id="fac" typeId="frequency"></channel>
            <channel id="idc" typeId="current"></channel>
            <channel id="udc" typeId="voltage"></channel>
            <channel id="status_code" typeId="code"></channel>
            <channel id="timestamp" typeId="timestamp"></channel>
        </channels>

        <config-description>
            <parameter name="device" type="integer">
                <label>Device</label>
                <description>Fronius device id</description>
                <required>true</required>
            </parameter>
        </config-description>

    </thing-type>

    <thing-type id="meter_data">
        <supported-bridge-type-refs>
            <bridge-type-ref id="symo" />
        </supported-bridge-type-refs>

        <label>Meter Realtime Data</label>
        <description>This thing represents the meter realtime data of a Fronius inverter</description>

        <channels>
            <channel id="status_code" typeId="code"></channel>
            <channel id="timestamp" typeId="timestamp"></channel>
        </channels>

        <config-description>
            <parameter name="device" type="integer">
                <label>Device</label>
                <description>Fronius device id</description>
                <required>true</required>
            </parameter>
        </config-description>

    </thing-type>

    <thing-type id="storage_data">
        <supported-bridge-type-refs>
            <bridge-type-ref id="symo" />
        </supported-bridge-type-refs>

        <label>Storage Realtime Data</label>
        <description>This thing represents the storage realtime data of a Fronius inverter</description>

        <channels>
            <channel id="current" typeId="current"></channel>
            <channel id="voltage" typeId="voltage"></channel>
            <channel id="charge" typeId="percent"></channel>
            <channel id="capacity" typeId="energy"></channel>
            <channel id="temperature" typeId="temperature"></channel>
            <channel id="status_code" typeId="code"></channel>
            <channel id="timestamp" typeId="timestamp"></channel>
        </channels>

        <config-description>
            <parameter name="device" type="integer">
                <label>Device</label>
                <description>Fronius device id</description>
                <required>true</required>
            </parameter>
        </config-description>

    </thing-type>

    <channel-type id="energy">
        <item-type>Number</item-type>
        <label>Energy</label>
        <category>Energy</category>
        <state readOnly="true" pattern="%.2f Wh"></state>
    </channel-type>

    <channel-type id="power">
        <item-type>Number</item-type>
        <label>Power</label>
        <state readOnly="true" pattern="%.2f W"></state>
    </channel-type>

    <channel-type id="current">
        <item-type>Number</item-type>
        <label>Current</label>
        <state readOnly="true" pattern="%.2f A"></state>
    </channel-type>

    <channel-type id="voltage">
        <item-type>Number</item-type>
        <label>Voltage</label>
        <state readOnly="true" pattern="%.2f V"></state>
    </channel-type>

    <channel-type id="frequency">
         <item-type>Number</item-type>
        <label>Frequency</label>
        <state readOnly="true" pattern="%.2f Hz"></state>
    </channel-type>

    <channel-type id="temperature">
        <item-type>Number</item-type>
        <label>Temperature</label>
        <category>Temperature</category>
        <state readOnly="true" pattern="%.1f Â°C"></state>
    </channel-type>

    <channel-type id="percent">
        <item-type>Number</item-type>
        <label>Percent</label>
        <state readOnly="true" pattern="%.1f %"></state>
    </channel-type>

    <channel-type id="code">
        <item-type>Number</item-type>
        <label>Code</label>
        <state readOnly="true"></state>
    </channel-type>

    <channel-type id="timestamp">
        <item-type>String</item-type>
        <label>Timestamp</label>
        <state readOnly="true"></state>
    </channel-type>

</thing:thing-descriptions>
