<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="openuv" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

	<!-- OpenUV Thing -->
	<thing-type id="openuv">
		<label>Open UV</label>
		<description>
		Provides various UV data from the OpenUV Project.
		In order to receive the data, you must register an account on https://www.openuv.io/auth/google and get your API token.
		</description>

		<channels>
			<channel id="UVIndex" typeId="UVIndex" />
			<channel id="UVColor" typeId="UVColor" />
			<channel id="UVMax" typeId="UVMax" />
            <channel id="UVMaxTime" typeId="UVMaxTime" />
            <channel id="UVMaxEvent" typeId="UVMaxEvent" />
			<channel id="Ozone" typeId="Ozone" />
			<channel id="OzoneTime" typeId="OzoneTime" />
			<channel id="UVTime" typeId="UVTime" />
			<channel id="SafeExposure" typeId="SafeExposure" />
		</channels>

		<config-description>
			<parameter name="apikey" type="text" required="true">
				<context>password</context>
				<label>API Key</label>
				<description>Data-platform token to access the OpenUV API service</description>
			</parameter>
			<parameter name="location" type="text" required="true">
				<label>Location</label>
				<description>Your geo coordinates separated with comma (e.g. "37.8,-122.4,177").</description>
			</parameter>
			<parameter name="refresh" type="integer" min="3" required="true">
				<label>Refresh interval</label>
				<description>Specifies the refresh interval in minutes.</description>
				<default>10</default>
			</parameter>
		</config-description>
	</thing-type>
	
	<channel-type id="UVIndex">
		<item-type>Number</item-type>
		<label>UV Index</label>
		<description>UV Index</description>
		<state readOnly="true" pattern="%.2f">
		</state>
	</channel-type>

	<channel-type id="UVMax">
		<item-type>Number</item-type>
		<label>UV Max</label>
		<description>Max UV Index for the day (at solar noon)</description>
		<state readOnly="true" pattern="%.2f">
		</state>
	</channel-type>

	<channel-type id="Ozone">
		<item-type>Number</item-type>
		<label>Ozone</label>
		<description>Ozone level in du (Dobson Units) from OMI data</description>
		<state readOnly="true" pattern="%.2f du">
		</state>
	</channel-type>

	<channel-type id="OzoneTime" advanced="false">
		<item-type>DateTime</item-type>
		<label>Ozone Observation Time</label>
		<description>Latest OMI ozone update datetime</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="UVMaxTime" advanced="false">
		<item-type>DateTime</item-type>
		<label>UV Max Time</label>
		<description>Max UV Index datetime (solar noon)</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="UVTime" advanced="false">
		<item-type>DateTime</item-type>
		<label>UV Time</label>
		<description>UV Index datetime</description>
		<state readOnly="true"/>
	</channel-type>
	

    <channel-type id="UVColor">
        <item-type>Color</item-type>
        <label>UV Color</label>
        <description>Color associated to given UV Index.</description>
        <state readOnly="true"/>
    </channel-type>


	<channel-type id="SafeExposure" advanced="false">
		<item-type>Number:Time</item-type>
		<label>Safe Exposure</label>
		<description>Safe exposure time for Fitzpatrick Skin Types</description>
		<state readOnly="true" pattern="%d %unit%"/>
		<config-description>
			<parameter name="Index" type="integer" required="true">
				<label>Skin Type</label>
				<description>Fitzpatrick Skin Type.</description>
				<options>
                    <option value="1">I – White</option>
                    <option value="2">II – White</option>
                    <option value="3">III – Light brown</option>
                    <option value="4">IV – Moderate brown</option>
                    <option value="5">V – Dark brown</option>
                    <option value="6">VI – Black</option>
                </options>
				<default>1</default>
			</parameter>
		</config-description>
	</channel-type>
	
    <!-- UV Max Event Channel Type -->
    <channel-type id="UVMaxEvent">
        <kind>trigger</kind>
        <label>UV Max Event</label>
        <description>Triggers when current UV Index reaches maximum of the day</description>
    </channel-type>

</thing:thing-descriptions>

