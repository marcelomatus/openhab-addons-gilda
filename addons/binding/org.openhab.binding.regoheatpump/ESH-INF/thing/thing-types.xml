<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="regoheatpump"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
        xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

    <!-- Manage Rego based Heat Pump over IP -->
    <thing-type id="ipRego6xx">
        <label>Rego based heat pump over IP</label>
        <description>Manage Rego based heat pump over IP</description>
        
        <channel-groups>
            <channel-group id="registers" typeId="registers" />
            <channel-group id="frontPanel" typeId="frontPanel" />
            <channel-group id="status" typeId="status" />
        </channel-groups>

        <config-description>
            <parameter name="address" type="text" required="true">
                <context>network-address</context>
                <label>Address</label>
                <description>The address of the Rego to control.</description>
            </parameter>
            <parameter name="port" type="integer" max="65535" min="1" required="true">
                <default>9265</default>
                <label>TCP Port</label>
                <description>The TCP port number used to connect to the Rego.</description>
            </parameter>
            <parameter name="refreshInterval" type="integer" max="65535" min="1" required="true">
                <default>60</default>
                <label>Refresh interval</label>
                <description>Refresh interval in seconds.</description>
            </parameter>
        </config-description>        
    </thing-type>

    <channel-group-type id="registers">
        <label>Register Values</label>
        <channels>
            <!-- Sensor values -->
            <channel id="radiatorReturnGT1" typeId="temperature"/>
            <channel id="outdoorGT2" typeId="temperature"/>
            <channel id="hotWaterGT3" typeId="temperature"/>
            <channel id="shuntGT4" typeId="temperature"/>
            <channel id="roomGT5" typeId="temperature"/>
            <channel id="compressorGT6" typeId="temperature"/>
            <channel id="heatFluidOutGT8" typeId="temperature"/>
            <channel id="heatFluidInGT9" typeId="temperature"/>
            <channel id="coldFluidInGT10" typeId="temperature"/>
            <channel id="coldFluidOutGT11" typeId="temperature"/>
            <channel id="externalHotWaterGT3x" typeId="temperature"/>
            <!-- Control data -->
            <channel id="targetValueGT1" typeId="temperature"/>
            <channel id="onValueGT1" typeId="temperature"/>
            <channel id="offValueGT1" typeId="temperature"/>
            <channel id="targetValueGT3" typeId="temperature"/>
            <channel id="onValueGT3" typeId="temperature"/>
            <channel id="offValueGT3" typeId="temperature"/>
            <channel id="targetValueGT4" typeId="temperature"/>
            <channel id="addHeatPower" typeId="temperature"/>
            <!-- Device values -->
            <channel id="coldFluidPumpP3" typeId="shortValue"/>
            <channel id="compressor" typeId="shortValue"/>
            <channel id="additionalHeat3kW" typeId="shortValue"/>
            <channel id="additionalHeat6kW" typeId="shortValue"/>
            <channel id="radiatorPumpP1" typeId="shortValue"/>
            <channel id="heatFluidPumpP2" typeId="shortValue"/>
            <channel id="threeWayValve" typeId="shortValue"/>
            <channel id="alarm" typeId="shortValue"/>
            <!-- Settings -->
            <channel id="heatCurve" typeId="temperature"/>
            <channel id="heatCurveFineAdj" typeId="temperature"/>
            <channel id="indoorTempSetting" typeId="temperature"/>
            <channel id="curveInflByInTemp" typeId="temperature"/>
            <channel id="adjCurveAt20" typeId="temperature"/>
            <channel id="adjCurveAt15" typeId="temperature"/>
            <channel id="adjCurveAt10" typeId="temperature"/>
            <channel id="adjCurveAt5" typeId="temperature"/>
            <channel id="adjCurveAt0" typeId="temperature"/>
            <channel id="adjCurveAtMinus5" typeId="temperature"/>
            <channel id="adjCurveAtMinus10" typeId="temperature"/>
            <channel id="adjCurveAtMinus15" typeId="temperature"/>
            <channel id="adjCurveAtMinus20" typeId="temperature"/>
            <channel id="adjCurveAtMinus25" typeId="temperature"/>
            <channel id="adjCurveAtMinus30" typeId="temperature"/>
            <channel id="adjCurveAtMinus35" typeId="temperature"/>
            <channel id="heatCurveCouplingDiff" typeId="temperature"/>
        </channels>
    </channel-group-type>

    <channel-group-type id="status">
        <label>Sensor Values</label>
        <channels>
            <channel id="lastError" typeId="error"/>
        </channels>
    </channel-group-type>

    <channel-group-type id="frontPanel">
        <label>Front Panel Values</label>
        <channels>
            <channel id="power" typeId="led"/>
            <channel id="pumpLed" typeId="led"/>
            <channel id="additionalHeatingLed" typeId="led"/>
            <channel id="waterHeaterLed" typeId="led"/>
            <channel id="alarmLed" typeId="led"/>
        </channels>
    </channel-group-type>

    <channel-type id="temperature">
        <item-type>Number</item-type>
        <label>Temperature</label>
        <description>Temperature value in degrees celsius</description>
        <category>Temperature</category>
        <state readOnly="true" pattern="%.1f Â°C"/>
    </channel-type>

    <channel-type id="shortValue">
        <item-type>Number</item-type>
        <label>Numeric value</label>
        <description>16 bit numeric value</description>
        <state readOnly="true" pattern="%s"/>
    </channel-type>

    <channel-type id="error">
        <item-type>String</item-type>
        <label>Last Error</label>
        <description>Last error information</description>
        <state readOnly="true" pattern="%s" />
    </channel-type>
    
    <channel-type id="led">
        <item-type>Number</item-type>
        <label>Led</label>
        <description>Led on front panel</description>
        <state readOnly="true" />
    </channel-type>
</thing:thing-descriptions>
